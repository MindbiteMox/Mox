@using Mindbite.Mox.UI
@using Mindbite.Mox.UI.Menu
@{
    var routeValues = new { id = ViewContext.RouteData.Values["Id"], Area = ViewContext.RouteData.Values["Area"] as string };
    var menu = new List<MenuItem>
    {
        new MenuItem {
            Title = "Design",
            Url = Url.Action("Display", "Designs", routeValues),
            Area = ViewContext.RouteData.Values["Area"] as string,
            Controller = ViewContext.RouteData.Values["Controller"] as string,
            Action = "Display",
        },
        new MenuItem {
            Title = "Bilder",
            Url = Url.Action("Images", "Designs", routeValues),
            Area = ViewContext.RouteData.Values["Area"] as string,
            Controller = ViewContext.RouteData.Values["Controller"] as string,
            Action = "Images",
        },
        new MenuItem {
            Title = "Kommentarer",
            Url = Url.Action("Comments", "Designs", routeValues),
            Area = ViewContext.RouteData.Values["Area"] as string,
            Controller = ViewContext.RouteData.Values["Controller"] as string,
            Action = "Comments",
        }
    };

    menu.FixParents();
    menu.SelectCurrentMenu(ViewContext, true);
}

@Html.Mox().Menu(builder =>
{
    builder.Add().Title("Design").AreaAction(ViewContext.RouteData.Values["Area"].ToString(), "Designs", "Display", new { id = ViewContext.RouteData.Values["Id"] });
    builder.Add().Title("Bilder").AreaAction(ViewContext.RouteData.Values["Area"].ToString(), "Images", "Display", new { id = ViewContext.RouteData.Values["Id"] });
    builder.Add().Title("Kommentarer").AreaAction(ViewContext.RouteData.Values["Area"].ToString(), "Comments", "Display", new { id = ViewContext.RouteData.Values["Id"] });
}, true)